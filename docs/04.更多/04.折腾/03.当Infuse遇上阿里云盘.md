---
title: å½“Infuseé‡ä¸Šé˜¿é‡Œäº‘ç›˜ ğŸš€
date: 2021-08-17 01:48:06
permalink: /pages/9b3f3a/
categories:
  - æ›´å¤š
  - æŠ˜è…¾
tags:
  -
---
![](https://cdn.jsdelivr.net/gh/kimentanm/image-store/img/202108170154540.png)

<!-- more -->

## å‰è¨€
### é˜¿é‡Œäº‘ç›˜ä»‹ç»
é˜¿é‡Œäº‘ç›˜æ˜¯é˜¿é‡Œå·´å·´å…¨çƒèµ„æ·±æŠ€æœ¯å›¢é˜Ÿå€¾åŠ›æ‰“é€ çš„ä¸€æ¬¾ä¸ªäººç½‘ç›˜ï¼Œä¸»è¦åŠŸèƒ½ä¸ºé€Ÿåº¦å¿«ã€ä¸æ‰“æ‰°ã€å¤Ÿå®‰å…¨ã€æ˜“äºåˆ†äº«ï¼Œä¸ºCç«¯ç”¨æˆ·æä¾›å­˜å‚¨å¤‡ä»½åŠæ™ºèƒ½ç›¸å†Œç­‰æœåŠ¡çš„ç½‘ç›˜äº§å“ã€‚
æœ€è¿‘ä¸€æ®µæ—¶é—´é˜¿é‡Œäº‘ç›˜å¯è°“æ˜¯ç«å‡ºäº†å¤ªé˜³ç³»ï¼ˆè¿˜ä¸æ˜¯å› ä¸º115å¤ªè´µï¼Œç™¾åº¦ç½‘ç›˜å¤ªæ…¢ï¼‰ï¼Œå„ç§èµ„æºæ— è®ºæ˜¯å½±è§†ä½œå“è¿˜æ˜¯ç´ æéƒ½åœ¨é˜¿é‡Œäº‘ç›˜ä¸Šå±‚å‡ºä¸ç©·ã€‚
### Infuseä»‹ç»
ç›¸ä¿¡å®¶ä¸­æœ‰NASçš„æœ‹å‹åº”è¯¥å¯¹åª’ä½“ç®¡ç†è½¯ä»¶å¹¶ä¸é™Œç”Ÿï¼Œå› ä¸ºé™¤äº†æ•°æ®å‚¨å­˜ä¹‹å¤–ï¼Œæˆ‘ä»¬è´­ä¹°NASå¾ˆå¤§ä¸€éƒ¨åˆ†éœ€æ±‚æ˜¯å‚¨å­˜å’Œæ’­æ”¾ç”µå½±å’Œç”µè§†å‰§ã€‚
Infuseåœ¨æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªåª’ä½“ç®¡ç†è½¯ä»¶ï¼Œæ‹¥æœ‰ç±»ä¼¼äºNetflixè¿™æ ·çš„é¡µé¢ï¼Œå¦‚æœä½ æ²¡æœ‰NAS ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨Embyã€Jellyfinã€Plexç¬¬ä¸‰æ–¹æµåª’ä½“æœåŠ¡ï¼Œæˆ–è€…è¿æ¥Google Driveè¿™ç§ç½‘ç»œç¡¬ç›˜ã€‚

## å‡†å¤‡å·¥ä½œ
- [æ³¨å†Œé˜¿é‡Œäº‘ç½‘ç›˜è´¦å·](https://pages.aliyundrive.com/mobile-page/web/beinvited.html?code=4e06ec7)
- ä½ æ˜¯Infuseçš„è®¢é˜…ç”¨æˆ·

## æµè§ˆå™¨è·å–refreshToken
1. åˆ—è¡¨é¡¹å…ˆé€šè¿‡æµè§ˆå™¨ï¼ˆå»ºè®®chromeï¼‰æ‰“å¼€é˜¿é‡Œäº‘ç›˜å®˜ç½‘å¹¶ç™»å½•ï¼š[www.aliyundrive.com](https://www.aliyundrive.com/drive/)
2. åˆ—è¡¨é¡¹ç™»å½•æˆåŠŸåï¼ŒæŒ‰F12æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œç‚¹å‡»`Console`ï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç ï¼Œå¹¶å›è½¦
```js
JSON.parse(window.localStorage.getItem("token"))["refresh_token"];
```
4. æ§åˆ¶å°è¾“å‡ºçš„ä¸€ä¸²å­—ç¬¦å°±æ˜¯ä½ çš„refreshTokenå•¦

![](https://cdn.jsdelivr.net/gh/kimentanm/image-store/img/202108180821614.png)

## ä½¿ç”¨dockeråˆ›å»ºé˜¿é‡Œäº‘ç›˜çš„WebdavæœåŠ¡
é¡¹ç›®åœ°å€ï¼š[zxbu/webdav-aliyundriver](https://github.com/zxbu/webdav-aliyundriver)

### docker runè¿è¡Œ
```sh
docker run -d --name=webdav-aliyundriver --restart=always -p 8080:8080  -v /etc/localtime:/etc/localtime -v /etc/aliyun-driver/:/etc/aliyun-driver/ -e TZ="Asia/Shanghai" -e ALIYUNDRIVE_REFRESH_TOKEN="your refreshToken" -e ALIYUNDRIVE_AUTH_PASSWORD="admin" -e JAVA_OPTS="-Xmx1g" zx5253/webdav-aliyundriver

# /etc/aliyun-driver/ æŒ‚è½½å·è‡ªåŠ¨ç»´æŠ¤äº†æœ€æ–°çš„refreshTokenï¼Œå»ºè®®æŒ‚è½½
# ALIYUNDRIVE_AUTH_PASSWORD æ˜¯adminè´¦æˆ·çš„å¯†ç ï¼Œå»ºè®®ä¿®æ”¹
# JAVA_OPTS å¯ä¿®æ”¹æœ€å¤§å†…å­˜å ç”¨ï¼Œæ¯”å¦‚ -e JAVA_OPTS="-Xmx512m" è¡¨ç¤ºæœ€å¤§å†…å­˜é™åˆ¶ä¸º512m
```
### docker-composeè¿è¡Œ
```yaml
version: '3'
services:
  webdav-aliyundriver:
    image: zx5253/webdav-aliyundriver
    container_name: webdav-aliyundriver
    restart: always
    volumes:
      - /etc/localtime:/etc/localtime
      - ./docker/etc/aliyun-driver/:/etc/aliyun-driver/
    ports:
      - "1234:8080"
    tty: true
    environment:
      - TZ=Asia/Shanghai
      - ALIYUNDRIVE_REFRESH_TOKEN=<change me>
      - ALIYUNDRIVE_AUTH_PASSWORD=<change me>
```
### ç¾¤æ™–æ•™ç¨‹
[ç¾¤æ™–NASé«˜çº§æœåŠ¡ - ä½¿ç”¨é˜¿é‡Œäº‘ç›˜æ‰“é€ å…è´¹ WebDAV æœåŠ¡](https://www.ioiox.com/archives/142.html)

### å‚æ•°è¯´æ˜
```
--aliyundrive.refresh-token
    é˜¿é‡Œäº‘ç›˜çš„refreshTokenï¼Œè·å–æ–¹å¼è§ä¸‹æ–‡
--server.port
    éå¿…å¡«ï¼ŒæœåŠ¡å™¨ç«¯å£å·ï¼Œé»˜è®¤ä¸º8080
--aliyundrive.auth.enable=true
    æ˜¯å¦å¼€å¯WebDavè´¦æˆ·éªŒè¯ï¼Œé»˜è®¤å¼€å¯
--aliyundrive.auth.user-name=admin
    WebDavè´¦æˆ·ï¼Œé»˜è®¤admin
--aliyundrive.auth.password=admin
    WebDavå¯†ç ï¼Œé»˜è®¤admin
```

## ä½¿ç”¨Infuseè¿æ¥é˜¿é‡Œäº‘ç›˜çš„WebdavæœåŠ¡
### è¿æ¥ä¿¡æ¯
![](https://cdn.jsdelivr.net/gh/kimentanm/image-store/img/202108170128176.png)
> è¿™é‡Œçš„ç”¨æˆ·åé»˜è®¤æ˜¯adminï¼Œå¯†ç å°±æ˜¯åˆšæ‰è®¾ç½®çš„ALIYUNDRIVE_AUTH_PASSWORD

> è·¯å¾„ä¸é€‰æ‹©é»˜è®¤æ˜¯æ ¹ç›®å½•`/`
### è¿æ¥æˆåŠŸ
![](https://cdn.jsdelivr.net/gh/kimentanm/image-store/img/202108170133028.png)
![](https://cdn.jsdelivr.net/gh/kimentanm/image-store/img/202108170134063.png)
### 4Kæ•ˆæœçœŸçš„å¾ˆèµ
![](https://cdn.jsdelivr.net/gh/kimentanm/image-store/img/202108170138099.png)

> åŠ è½½é€Ÿåº¦å–å†³äºä½ çš„ç½‘é€Ÿï¼Œæˆ‘æ˜¯500Mçš„ç”µä¿¡å®½å¸¦ï¼Œå¤è”4çš„4Kç‰‡æºæ‹–åŠ¨ä¹Ÿä¸ä¼šå¡é¡¿

## æœ€ååˆ†äº«
æœ€ååˆ†äº«ä¸€ä¸‹æˆ‘æœ€è¿‘ä¿å­˜åœ¨é˜¿é‡Œäº‘ç›˜ä¸Šçš„ä¸€äº›èµ„æº
|  åç§°   | åœ°å€  |
|  ---  | ---  |
| çˆ±æƒ…å…¬å¯“4Kå…¨ç³»åˆ—  | https://www.aliyundrive.com/s/Rcb4VyVTNAH  |
| æ¼«å¨å…¨ç³»åˆ—  | https://www.aliyundrive.com/s/xkBaheim6U6  |
| å¤è”3+4 4Kå•æ–‡ä»¶60g+  | https://www.aliyundrive.com/s/48vmGvstx9W  |
| ç«å½±å¿è€…4K  | https://www.aliyundrive.com/s/ig4niUCh8Vw  |
| è¿ªå£«å°¼æ”¶è—ç‰ˆ1  | https://www.aliyundrive.com/s/VuzVnUdbaBz  |
| è¿ªå£«å°¼æ”¶è—ç‰ˆ2  | https://www.aliyundrive.com/s/1GHf8nHHA23  |
| è¿ªå£«å°¼æ”¶è—ç‰ˆ3  | https://www.aliyundrive.com/s/zSRdbKiuj51  |
